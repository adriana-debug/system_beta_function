<!DOCTYPE html>
<html lang="en">
<head>
  <base target="_top">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/lucide@latest"></script>
  
  <style>
    :root {
      --primary: #0f172a;
      --sidebar-width: 280px;
    }
    body { 
      font-family: 'Plus Jakarta Sans', sans-serif; 
      background-color: #f1f5f9; 
      color: #1e293b; 
    }
    
    /* Modern Navigation Styling */
    .nav-item {
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
    }
    .nav-active { 
      background: #f8fafc; 
      color: #0f172a; 
      font-weight: 600;
      box-shadow: inset 4px 0 0 0 #0f172a;
    }
    .nav-active i { color: #0f172a; }
    
    /* Layout Components */
    .glass-card { 
      background: rgba(255, 255, 255, 0.9); 
      backdrop-filter: blur(8px);
      border: 1px solid rgba(226, 232, 240, 0.8); 
      border-radius: 16px; 
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .glass-card:hover { 
      transform: translateY(-2px);
      box-shadow: 0 12px 24px -10px rgba(0,0,0,0.05);
    }

    /* Knowledge Base Enhancements */
    .kb-table { width: 100%; border-collapse: separate; border-spacing: 0; margin-top: 1rem; border-radius: 12px; overflow: hidden; border: 1px solid #e2e8f0; }
    .kb-table th { background: #f8fafc; color: #64748b; font-size: 11px; text-transform: uppercase; letter-spacing: 0.05em; padding: 14px; text-align: left; border-bottom: 1px solid #e2e8f0; }
    .kb-table td { padding: 20px; font-size: 14px; border-bottom: 1px solid #f1f5f9; vertical-align: top; line-height: 1.6; background: white; }
    
    .kb-template {
      position: relative;
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      cursor: pointer;
    }
    .kb-template:hover { background: #f1f5f9; }
    .copy-hint { position: absolute; top: 8px; right: 8px; opacity: 0; transition: opacity 0.2s; }
    .kb-template:hover .copy-hint { opacity: 1; }

    .view-content { animation: fadeIn 0.4s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* Nav Tree Styles */
    .nav-chevron {
      transition: transform 0.2s ease;
    }

    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
  </style>
</head>
<body class="flex min-h-screen">

  <aside class="w-[280px] h-screen bg-white border-r border-slate-200 fixed flex flex-col z-50">
    <div class="p-8">
      <div class="flex items-center gap-3 mb-2">
        <div class="w-10 h-10 bg-slate-900 rounded-xl flex items-center justify-center">
          <span class="text-white font-bold text-xl">Êúà</span>
        </div>
        <div>
          <h1 class="text-lg font-extrabold text-slate-900 tracking-tight">TSUKI GLASS</h1>
          <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">Support Portal</p>
        </div>
      </div>
    </div>
    
    <nav class="flex-1 px-4 space-y-1">
      <div class="text-[10px] font-bold text-slate-400 uppercase tracking-widest px-4 pb-2 mt-4">Main Menu</div>
      <button onclick="setView('dashboard')" id="btn-dashboard" class="nav-item w-full flex items-center gap-3 px-4 py-3 text-sm font-medium text-slate-500 hover:bg-slate-50 rounded-xl nav-active">
        <i data-lucide="layout-dashboard" class="w-4 h-4"></i> Dashboard
      </button>
      <button onclick="setView('agents')" id="btn-agents" class="nav-item w-full flex items-center gap-3 px-4 py-3 text-sm font-medium text-slate-500 hover:bg-slate-50 rounded-xl">
        <i data-lucide="users" class="w-4 h-4"></i> Agent Performance
      </button>
      <button onclick="setView('knowledge')" id="btn-knowledge" class="nav-item w-full flex items-center gap-3 px-4 py-3 text-sm font-medium text-slate-500 hover:bg-slate-50 rounded-xl">
        <i data-lucide="book-open" class="w-4 h-4"></i> Knowledge Base
      </button>


      <button onclick="setView('quality')" id="btn-quality" class="nav-item w-full flex items-center gap-3 px-4 py-3 text-sm font-medium text-slate-500 hover:bg-slate-50 rounded-xl">
        <i data-lucide="shield-check" class="w-4 h-4"></i> Quality Metrics
      </button>

      <div class="text-[10px] font-bold text-slate-400 uppercase tracking-widest px-4 pt-8 pb-2 mb-2 mt-8">Systems</div>


      <button onclick="setView('schedule')" id="btn-schedule" class="nav-item w-full flex items-center gap-3 px-4 py-3 text-sm font-medium text-slate-500 hover:bg-slate-50 rounded-xl">
        <i data-lucide="calendar" class="w-4 h-4"></i> Schedule
      </button>
      <button onclick="setView('settings')" id="btn-settings" class="nav-item w-full flex items-center gap-3 px-4 py-3 text-sm font-medium text-slate-500 hover:bg-slate-50 rounded-xl">
        <i data-lucide="settings" class="w-4 h-4"></i> Settings
      </button>
    </nav>

<div class="p-4 border-t border-slate-200">
  <div class="bg-slate-50 p-3 rounded-lg flex items-center justify-center">
    <p class="text-xs font-bold text-slate-900">Internal Use Only</p>
  </div>
</div>

  </aside>

  <main class="ml-[280px] flex-1 p-12 max-w-[1600px]">
    
    <section id="view-dashboard" class="view-content">
      <div class="flex justify-between items-end mb-10">
        <div>
          <h1 class="text-3xl font-bold text-slate-900 tracking-tight">Operational Overview</h1>
          <p class="text-slate-500 mt-1">Real-time performance metrics for the current billing cycle.</p>
        </div>
        <div class="flex gap-2">
          <button class="bg-white border border-slate-200 px-4 py-2 rounded-lg text-sm font-semibold text-slate-600 flex items-center gap-2 hover:bg-slate-50">
            <i data-lucide="download" class="w-4 h-4"></i> Export Report
          </button>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-10">
        <div class="bg-white border border-slate-200 rounded-lg p-5">
          <p class="text-xs font-medium text-slate-500 mb-2">Total Inbound</p>
          <h2 class="text-2xl font-semibold text-slate-900">1,000</h2>
          <p class="text-xs text-emerald-600 mt-2">+12% from last period</p>
        </div>
        <div class="bg-white border border-slate-200 rounded-lg p-5">
          <p class="text-xs font-medium text-slate-500 mb-2">Avg Handling Time</p>
          <h2 class="text-2xl font-semibold text-slate-900">4m 12s</h2>
          <p class="text-xs text-slate-500 mt-2">-2% from last period</p>
        </div>
        <div class="bg-white border border-slate-200 rounded-lg p-5">
          <p class="text-xs font-medium text-slate-500 mb-2">CSAT Score</p>
          <h2 class="text-2xl font-semibold text-slate-900">100.0%</h2>
          <p class="text-xs text-slate-500 mt-2">No change</p>
        </div>
        <div class="bg-white border border-slate-200 rounded-lg p-5">
          <p class="text-xs font-medium text-slate-500 mb-2">Active Agents</p>
          <h2 class="text-2xl font-semibold text-slate-900">2</h2>
          <p class="text-xs text-slate-500 mt-2">Agent 1, Agent 2</p>
        </div>
      </div>
      
      <div class="glass-card p-12 flex flex-col items-center justify-center text-slate-400 border-dashed border-2 border-slate-200">
        <div class="p-4 bg-slate-50 rounded-full mb-4">
          <i data-lucide="bar-chart-3" class="w-8 h-8 opacity-40"></i>
        </div>
        <p class="text-sm font-semibold text-slate-500">Analytics Visualization Module</p>
        <p class="text-xs text-slate-400 mt-1">Data will populate upon API synchronization.</p>
      </div>
    </section>

    <section id="view-agents" class="view-content hidden">
        <h1 class="text-3xl font-bold text-slate-900 mb-8">Agent Performance</h1>
        <div class="glass-card overflow-hidden">
            <table class="w-full text-left">
              <thead class="bg-slate-50 border-b border-slate-200">
                <tr>
                  <th class="px-8 py-5 text-[11px] font-bold text-slate-400 uppercase tracking-wider">Agent Name</th>
                  <th class="px-8 py-5 text-[11px] font-bold text-slate-400 uppercase tracking-wider">Status</th>
                  <th class="px-8 py-5 text-[11px] font-bold text-slate-400 uppercase tracking-wider">Department</th>
                  <th class="px-8 py-5 text-[11px] font-bold text-slate-400 uppercase tracking-wider">Actions</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-slate-100 bg-white">
                <tr class="hover:bg-slate-50/50 transition-colors">
                  <td class="px-8 py-5">
                    <div class="flex items-center gap-3">
                      <div class="w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center font-bold text-xs text-slate-600">A1</div>
                      <span class="text-sm font-semibold text-slate-900">Agent 1</span>
                    </div>
                  </td>
                  <td class="px-8 py-5">
                    <span class="inline-flex items-center gap-1.5 px-3 py-1 bg-emerald-50 text-emerald-700 text-[11px] font-bold rounded-full">
                      <span class="w-1.5 h-1.5 bg-emerald-500 rounded-full"></span> ONLINE
                    </span>
                  </td>
                  <td class="px-8 py-5 text-sm text-slate-500">Customer Support</td>
                  <td class="px-8 py-5"><button class="text-slate-400 hover:text-slate-900"><i data-lucide="more-horizontal" class="w-5 h-5"></i></button></td>
                </tr>
                <tr class="hover:bg-slate-50/50 transition-colors">
                  <td class="px-8 py-5">
                    <div class="flex items-center gap-3">
                      <div class="w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center font-bold text-xs text-slate-600">A2</div>
                      <span class="text-sm font-semibold text-slate-900">Agent 2</span>
                    </div>
                  </td>
                  <td class="px-8 py-5">
                    <span class="inline-flex items-center gap-1.5 px-3 py-1 bg-slate-100 text-slate-500 text-[11px] font-bold rounded-full">
                      <span class="w-1.5 h-1.5 bg-slate-400 rounded-full"></span> OFFLINE
                    </span>
                  </td>
                  <td class="px-8 py-5 text-sm text-slate-500">Quality Assurance</td>
                  <td class="px-8 py-5"><button class="text-slate-400 hover:text-slate-900"><i data-lucide="more-horizontal" class="w-5 h-5"></i></button></td>
                </tr>
              </tbody>
            </table>
          </div>
    </section>

    <section id="view-knowledge" class="view-content hidden">
      <div class="flex gap-8">
        <div class="w-[280px] shrink-0">
          <div class="sticky top-12">
            <div class="relative mb-4">
              <i data-lucide="search" class="w-4 h-4 absolute left-3 top-2.5 text-slate-400"></i>
              <input type="text" placeholder="Search..." class="w-full pl-9 pr-3 py-2 text-sm bg-white border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900/10">
            </div>

            <div class="bg-white border border-slate-200 rounded-lg overflow-hidden">
              <div class="max-h-[calc(100vh-200px)] overflow-y-auto">

                <!-- Shipping & Orders -->
                <div class="border-b border-slate-100">
                  <button onclick="toggleNavSection('shipping')" class="w-full flex items-center justify-between p-3 hover:bg-slate-50 transition-colors">
                    <div class="flex items-center gap-2">
                      <i data-lucide="package" class="w-4 h-4 text-slate-600"></i>
                      <span class="text-sm font-semibold text-slate-900">Shipping & Orders</span>
                    </div>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-slate-400 nav-chevron" id="chevron-shipping"></i>
                  </button>
                  <div id="nav-shipping" class="bg-slate-50">
                    <div onclick="scrollToSection('shipping-matrix')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:text-slate-900 hover:bg-slate-100 cursor-pointer border-l-2 border-transparent hover:border-slate-900 transition-all">
                      Address Modification
                    </div>
                    <div onclick="scrollToSection('mod-unfulfilled')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:text-slate-900 hover:bg-slate-100 cursor-pointer border-l-2 border-transparent hover:border-slate-900 transition-all">
                      Modify Unfulfilled Orders
                    </div>
                    <div onclick="scrollToSection('order-status')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:text-slate-900 hover:bg-slate-100 cursor-pointer border-l-2 border-transparent hover:border-slate-900 transition-all">
                      Order Status Templates
                    </div>
                  </div>
                </div>

                <!-- Cancellations & Refunds -->
                <div class="border-b border-slate-100">
                  <button onclick="toggleNavSection('cancellations')" class="w-full flex items-center justify-between p-3 hover:bg-slate-50 transition-colors">
                    <div class="flex items-center gap-2">
                      <i data-lucide="x-circle" class="w-4 h-4 text-slate-600"></i>
                      <span class="text-sm font-semibold text-slate-900">Cancellations & Refunds</span>
                    </div>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-slate-400 nav-chevron" id="chevron-cancellations"></i>
                  </button>
                  <div id="nav-cancellations" class="bg-slate-50">
                    <div onclick="scrollToSection('cancellation')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:text-slate-900 hover:bg-slate-100 cursor-pointer border-l-2 border-transparent hover:border-slate-900 transition-all">
                      Cancellation Workflow
                    </div>
                    <div onclick="scrollToSection('refund-returns')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:text-slate-900 hover:bg-slate-100 cursor-pointer border-l-2 border-transparent hover:border-slate-900 transition-all">
                      Refund for Returns
                    </div>
                  </div>
                </div>

                <!-- Abandoned Carts -->
<div class="border-b border-slate-100">
  <button onclick="toggleNavSection('abandoned-carts')" class="w-full flex items-center justify-between p-3 hover:bg-slate-50 transition-colors">
    <div class="flex items-center gap-2">
      <i data-lucide="shopping-cart" class="w-4 h-4 text-slate-600"></i>
      <span class="text-sm font-semibold text-slate-900">Abandoned Carts</span>
    </div>
    <i data-lucide="chevron-down" class="w-4 h-4 text-slate-400 nav-chevron" id="chevron-abandoned-carts"></i>
  </button>

  <div id="nav-abandoned-carts" class="bg-slate-50 hidden">
    <div
      onclick="scrollToSection('abandoned-cart-overview')"
      class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:text-slate-900 hover:bg-slate-100 cursor-pointer border-l-2 border-transparent hover:border-slate-900 transition-all"
    >
      Abandoned Cart Overview
    </div>

    <div
      onclick="scrollToSection('abandoned-cart-script')"
      class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:text-slate-900 hover:bg-slate-100 cursor-pointer border-l-2 border-transparent hover:border-slate-900 transition-all"
    >
      Recovery Script
    </div>

    <div
      onclick="scrollToSection('abandoned-cart-followup')"
      class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:text-slate-900 hover:bg-slate-100 cursor-pointer border-l-2 border-transparent hover:border-slate-900 transition-all"
    >
      Follow-up Messages
    </div>
  </div>
</div>



<!-- Customer Response Templates -->
<div class="border-b border-slate-100">
  <button onclick="toggleNavSection('customer-responses')" class="w-full flex items-center justify-between p-3 hover:bg-slate-50 transition-colors">
    <div class="flex items-center gap-2">
      <i data-lucide="message-square-text" class="w-4 h-4 text-slate-600"></i>
      <span class="text-sm font-semibold text-slate-900">Macro Scripts</span>
    </div>
    <i data-lucide="chevron-down" class="w-4 h-4 text-slate-400 nav-chevron" id="chevron-customer-responses"></i>
  </button>

<div id="nav-customer-responses" class="bg-slate-50 hidden">

  <!-- Abandoned / Payment -->
  <div onclick="scrollToSection('responses-abandoned-payment')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Abandoned / Payment
  </div>
  <div onclick="scrollToSection('responses-payment-refund')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Payment Refund Option
  </div>
  <div onclick="scrollToSection('responses-chargeback')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Chargeback Notification ‚Äì Product Unacceptable Claim
  </div>
  <div onclick="scrollToSection('responses-cancellation')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Cancellation Request Response
  </div>
  <div onclick="scrollToSection('responses-billing')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Billing Address Change Request
  </div>
  <div onclick="scrollToSection('responses-order-confirmation')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Important: Confirmation Needed for Your Order
  </div>

  <!-- Shipping & Delivery -->
  <div onclick="scrollToSection('responses-shipping')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Shipping & Delivery
  </div>
  <div onclick="scrollToSection('responses-shipping-delay')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Shipping Delay Update
  </div>
  <div onclick="scrollToSection('responses-in-transit')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Order Status: In Transit
  </div>
  <div onclick="scrollToSection('responses-shipped')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Order Status: Shipped
  </div>
  <div onclick="scrollToSection('responses-not-shipped')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Order Status: Not shipped - Still in processing window
  </div>
  <div onclick="scrollToSection('responses-delivered-confirm')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Order Delivered - Confirm to the customer
  </div>
  <div onclick="scrollToSection('responses-delivered-not-received')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Order Status - Marked As Delivered But Not Received
  </div>
  <div onclick="scrollToSection('responses-returned-to-sender')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Order Status- Returned to the Sender
  </div>
  <div onclick="scrollToSection('responses-shipping-address-update')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Order - Shipping Address Update Request
  </div>
  <div onclick="scrollToSection('responses-shipping-fee-issue')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Shipping Fee Issue / Dispute
  </div>
  <div onclick="scrollToSection('responses-shipping-time-frame')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Shipping Time Frame Inquiry (Australia)
  </div>
  <div onclick="scrollToSection('responses-no-tracking-update')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    No Update in the Tracking Link (Will Check)
  </div>
  <div onclick="scrollToSection('responses-tsuki-delay-usps')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Tsuki - Delay How USPS pickup works
  </div>

  <!-- Social Media Responses -->
  <div onclick="scrollToSection('responses-social')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Social Media Responses
  </div>
  <div onclick="scrollToSection('responses-social-positive')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Social Media Positive Comment
  </div>
  <div onclick="scrollToSection('responses-social-review')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Social Media Response - Review
  </div>
  <div onclick="scrollToSection('responses-social-scam')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Response to customers comment - SCAM
  </div>
  <div onclick="scrollToSection('responses-feedback-auto')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Positive Feedback, Comment Auto Response on Social Media
  </div>

  <!-- Returns, Refunds & Damage -->
  <div onclick="scrollToSection('responses-returns')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Returns, Refunds & Damage
  </div>
  <div onclick="scrollToSection('responses-return-initiated')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Customer Initiated Return Response
  </div>
  <div onclick="scrollToSection('responses-return-decline')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Return Request Response - Declined to Send Photo
  </div>
  <div onclick="scrollToSection('responses-refund')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Refund: Open Chargeback/Dispute
  </div>
  <div onclick="scrollToSection('responses-refund-full-partial')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Refund: Full/Partial Payment Refund
  </div>
  <div onclick="scrollToSection('responses-refund-return-instructions')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Refund ‚Äì Return Instructions
  </div>
  <div onclick="scrollToSection('responses-extended-holiday-return')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Extended Holiday Return Policy
  </div>
  <div onclick="scrollToSection('responses-item-missing')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Item Missing (In a Different Package)
  </div>
  <div onclick="scrollToSection('responses-incorrect-items')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Incorrect Items Received
  </div>

  <!-- Product & Store Inquiries -->
  <div onclick="scrollToSection('responses-product')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Product & Store Inquiries
  </div>
  <div onclick="scrollToSection('responses-order-status-no-order')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Order Status: No order found
  </div>
  <div onclick="scrollToSection('responses-where-ship-from')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Where Do You Ship From?
  </div>
  <div onclick="scrollToSection('responses-tsuki-order-status')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Tsuki - Where is My Order (ON TIME)
  </div>
  <div onclick="scrollToSection('responses-tsuki-refund-paypal')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Tsuki - Refund Paypal Info Request
  </div>
  <div onclick="scrollToSection('responses-order-target-date')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Order - With a Target Date of Delivery
  </div>
  <div onclick="scrollToSection('responses-tsuki-1-glass')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Tsuki - 1 Glass instead of 2
  </div>
  <div onclick="scrollToSection('responses-basket')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Basket / Smoker Kit
  </div>

  <!-- Feedback & Reviews -->
  <div onclick="scrollToSection('responses-feedback')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Feedback & Reviews
  </div>
  <div onclick="scrollToSection('responses-review-survey')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Review / Survey - Prior to Delivery
  </div>
  <div onclick="scrollToSection('responses-thank-you-feedback')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Thank you response for positive survey
  </div>
  <div onclick="scrollToSection('responses-trustpilot-credit')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Trustpilot Review ‚Äì $40 Credit Verification
  </div>
  <div onclick="scrollToSection('responses-thank-you-order')" class="pl-12 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Thank you message for ordering / Friendly Closing / Thank You Template
  </div>

  <!-- Other / Misc -->
  <div onclick="scrollToSection('responses-call-request')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Call Request
  </div>
  <div onclick="scrollToSection('responses-new-leads')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    For New Leads / Potential Customer - Browsing
  </div>
  <div onclick="scrollToSection('responses-unsubscribe')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Unsubscribe to email marketing
  </div>
  <div onclick="scrollToSection('responses-budget-issue')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Budget Issue
  </div>
  <div onclick="scrollToSection('responses-resolution-options')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Resolution Options ‚Äì Refund / Credit Offer
  </div>
  <div onclick="scrollToSection('responses-delayed-response-delivered')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    Delayed Response - Delivered
  </div>
  <div onclick="scrollToSection('responses-new-macro')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:bg-slate-100 cursor-pointer">
    New Macro
  </div>

</div>

</div>


                <!-- Tools -->
                <div>
                  <button onclick="toggleNavSection('tools')" class="w-full flex items-center justify-between p-3 hover:bg-slate-50 transition-colors">
                    <div class="flex items-center gap-2">
                      <i data-lucide="calculator" class="w-4 h-4 text-slate-600"></i>
                      <span class="text-sm font-semibold text-slate-900">Tools</span>
                    </div>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-slate-400 nav-chevron" id="chevron-tools"></i>
                  </button>
                  <div id="nav-tools" class="bg-slate-50">
                    <div onclick="scrollToSection('retention-calculator')" class="pl-9 pr-3 py-2 text-xs text-slate-700 hover:text-slate-900 hover:bg-slate-100 cursor-pointer border-l-2 border-transparent hover:border-slate-900 transition-all">
                      Retention Calculator
                    </div>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>

        <div class="flex-1 space-y-24 pb-32">
          
          <div id="shipping-matrix">
            <div class="mb-8">
              <span class="inline-block px-3 py-1 bg-slate-200 text-slate-700 text-[10px] font-bold rounded-full uppercase tracking-tighter mb-4">Procedure 01-A</span>
              <h2 class="text-4xl font-extrabold text-slate-900 tracking-tight">Shipping Address Matrix</h2>
              <p class="text-slate-500 mt-2 max-w-2xl text-lg">Standardized workflow for processing customer-requested delivery updates.</p>
            </div>

            <div class="bg-blue-600 rounded-2xl p-6 text-white mb-8 flex items-start gap-4 shadow-lg shadow-blue-100">
              <div class="p-3 bg-white/10 rounded-xl"><i data-lucide="info" class="w-6 h-6"></i></div>
              <div>
                <p class="font-bold mb-1">Mandatory Shopify Verification</p>
                <p class="text-sm text-blue-100">Always confirm fulfillment status in Shopify before discussing options with the customer. Status determines the entire path.</p>
              </div>
            </div>

            <table class="kb-table shadow-sm">
              <thead>
                <tr>
                  <th class="w-1/3">Condition / Inquiry</th>
                  <th>Action Protocol</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="font-bold text-slate-700 bg-slate-50/50">Initial Request</td>
                  <td>Check fulfillment status in Shopify</td>
                </tr>
                <tr>
                  <td class="font-bold text-slate-700">Status: <span class="text-rose-600">FULFILLED</span></td>
                  <td>
                    <div class="p-4 bg-rose-50 border border-rose-100 rounded-xl">
                      <p class="text-sm font-bold text-rose-800 mb-2">üö´ Modification Prohibited</p>
                      <p class="text-xs text-rose-700">Notify customer that order has shipped. Provide tracking and advise direct courier contact.</p>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="font-bold text-slate-700">Status: <span class="text-emerald-600">UNFULFILLED</span></td>
                  <td class="bg-emerald-50/30">Proceed to information gathering phase.</td>
                </tr>
                <tr>
                  <td class="font-bold">Gather Details</td>
                  <td>
                    <div class="kb-template p-4 rounded-xl" onclick="copyTemplate(this)">
                      <div class="copy-hint text-[10px] font-bold text-blue-600">CLICK TO COPY</div>
                      <p class="text-[10px] font-bold text-blue-500 uppercase mb-2 tracking-widest">Inquiry Template</p>
                      <p class="text-xs italic leading-relaxed">"Hi [Customer Name], thank you for reaching out! We can certainly help. Could you please provide your complete new address? We'll check with the warehouse team if the change can still be made."</p>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="font-bold">Address Verification</td>
                  <td>
                    <div class="flex items-center gap-2 p-3 bg-amber-50 text-amber-800 rounded-lg border border-amber-200 text-xs">
                      <i data-lucide="map" class="w-4 h-4"></i> Cross-check provided address via Google Maps before submission.
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="font-bold text-slate-700">Regional: <span class="text-blue-600">US-BASED</span></td>
                  <td>
                    <ul class="text-xs space-y-2 list-disc list-inside text-slate-600 font-medium">
                      <li>Apply <strong>HOLD</strong> in Shopify</li>
                      <li>Edit address directly in <strong>OMS</strong></li>
                      <li>Release hold & notify <strong>K&S Slack</strong></li>
                    </ul>
                  </td>
                </tr>
                <tr>
                  <td class="font-bold text-slate-700">Regional: <span class="text-purple-600">NON-US</span></td>
                  <td>
                    <ul class="text-xs space-y-2 list-disc list-inside text-slate-600 font-medium">
                      <li>Apply <strong>HOLD</strong> in Shopify</li>
                      <li><strong>Escalate to K&S</strong> (ERP modification required)</li>
                    </ul>
                  </td>
                </tr>
                <tr>
                  <td class="font-bold">Success Confirmation</td>
                  <td>
                    <div class="kb-template p-4 rounded-xl border-emerald-100 bg-emerald-50/50" onclick="copyTemplate(this)">
                      <div class="copy-hint text-[10px] font-bold text-emerald-600">CLICK TO COPY</div>
                      <p class="text-[10px] font-bold text-emerald-600 uppercase mb-2 tracking-widest">Confirmation Template</p>
                      <p class="text-xs italic leading-relaxed">"Great news! We were able to update your shipping address to [NEW ADDRESS]. You will receive tracking once it ships."</p>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <div id="mod-unfulfilled">
            <div class="mb-8">
              <span class="inline-block px-3 py-1 bg-blue-100 text-blue-700 text-[10px] font-bold rounded-full uppercase tracking-tighter mb-4">Procedure 02-B</span>
              <h2 class="text-4xl font-extrabold text-slate-900 tracking-tight">Order Modification</h2>
              <p class="text-slate-500 mt-2 max-w-2xl text-lg">Protocols for adding or removing items from active orders.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="glass-card p-8 border-t-4 border-t-emerald-500">
                    <h3 class="text-xl font-bold text-slate-900 mb-6 flex items-center gap-2">
                        <i data-lucide="plus-circle" class="text-emerald-500"></i> Adding Items
                    </h3>
                    <div class="space-y-6">
                        <div class="p-4 bg-slate-50 rounded-xl border border-slate-200">
                            <p class="text-[10px] font-bold text-slate-400 uppercase mb-2">Initial Step</p>
                            <p class="text-xs leading-relaxed italic">"Hi Customer! üòä We've received your request. Please confirm Product Name / Quantity / Link."</p>
                        </div>
                        <div class="space-y-4">
                            <div class="flex items-center gap-3">
                                <div class="w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-[10px] font-bold">US</div>
                                <p class="text-xs font-semibold">Update OMS -> Edit Shopify (Invoice Amount)</p>
                            </div>
                            <div class="flex items-center gap-3">
                                <div class="w-6 h-6 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center text-[10px] font-bold">GL</div>
                                <p class="text-xs font-semibold">Update Shopify -> Escalate to K&S Team</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="glass-card p-8 border-t-4 border-t-rose-500">
                    <h3 class="text-xl font-bold text-slate-900 mb-6 flex items-center gap-2">
                        <i data-lucide="minus-circle" class="text-rose-500"></i> Removing Items
                    </h3>
                    <div class="space-y-6">
                        <div class="p-4 bg-slate-50 rounded-xl border border-slate-200">
                            <p class="text-[10px] font-bold text-slate-400 uppercase mb-2">Requirements</p>
                            <p class="text-xs leading-relaxed italic">"Please provide: Product Name / Reason / PayPal for Refund."</p>
                        </div>
                        <ul class="text-xs space-y-3 font-medium text-slate-600">
                            <li class="flex gap-2 items-start"><i data-lucide="check" class="w-3 h-3 text-emerald-500 mt-1"></i> Process in ERP/OMS and Shopify</li>
                            <li class="flex gap-2 items-start"><i data-lucide="check" class="w-3 h-3 text-emerald-500 mt-1"></i> Trigger manual refund in Shopify</li>
                            <li class="flex gap-2 items-start"><i data-lucide="check" class="w-3 h-3 text-emerald-500 mt-1"></i> Notify: "Refund initiated (5-7 days)"</li>
                        </ul>
                    </div>
                </div>
            </div>
          </div>

          <div id="order-status">
            <h2 class="text-3xl font-bold text-slate-900 tracking-tight mb-8">Order Status Communication</h2>
            <div class="grid grid-cols-1 gap-4">
                <div class="kb-template p-6 rounded-2xl border-l-8 border-l-blue-500" onclick="copyTemplate(this)">
                    <p class="text-[10px] font-bold text-blue-500 uppercase mb-2">With Tracking Available</p>
                    <p class="text-xs leading-relaxed">"Hi Customer! Your order #(number) has shipped. Tracking: #XXXXXXXX. It's on its way!"</p>
                </div>
                <div class="kb-template p-6 rounded-2xl border-l-8 border-l-slate-400" onclick="copyTemplate(this)">
                    <p class="text-[10px] font-bold text-slate-500 uppercase mb-2">Processing (No Tracking)</p>
                    <p class="text-xs leading-relaxed">"Hi Customer! Order #(number) is being processed (1-3 business days). We'll email tracking once dispatched."</p>
                </div>
            </div>
          </div>

          <div id="cancellation">
            <h2 class="text-3xl font-bold text-slate-900 tracking-tight mb-8">Cancellation Workflow</h2>
            <div class="glass-card overflow-hidden">
                <div class="grid grid-cols-3 bg-slate-50 border-b border-slate-200 text-[10px] font-bold uppercase tracking-widest text-slate-400">
                    <div class="p-4 border-r border-slate-200">Scenario</div>
                    <div class="p-4 border-r border-slate-200">Restriction</div>
                    <div class="p-4">Process</div>
                </div>
                <div class="grid grid-cols-3 border-b border-slate-100 items-center">
                    <div class="p-6 text-sm font-bold border-r border-slate-100">Tracking Issued</div>
                    <div class="p-6 border-r border-slate-100">
                        <span class="px-3 py-1 bg-rose-50 text-rose-600 rounded-full font-bold text-[10px]">LOCKED</span>
                    </div>
                    <div class="p-6 text-xs text-slate-500">Suggest receiving package then initiating return.</div>
                </div>
                <div class="grid grid-cols-3 items-center">
                    <div class="p-6 text-sm font-bold border-r border-slate-100">Within 24 Hours</div>
                    <div class="p-6 border-r border-slate-100">
                        <span class="px-3 py-1 bg-emerald-50 text-emerald-600 rounded-full font-bold text-[10px]">ELIGIBLE</span>
                    </div>
                    <div class="p-6 text-xs">
                        <p class="font-bold text-slate-900 mb-1">Attempt Retention First</p>
                        <p class="text-slate-500">Hold in Shopify -> Offer Credit ($30-50) -> If declined, cancel in Shopify/OMS.</p>
                    </div>
                </div>
            </div>
          </div>

          <div id="refund-returns">
            <h2 class="text-3xl font-bold text-slate-900 tracking-tight mb-4">Refund for Returns</h2>
            <p class="text-slate-500 mb-8">Standard 90-day return policy management.</p>
            
            <div class="bg-indigo-900 rounded-3xl p-10 text-white relative overflow-hidden">
                <div class="relative z-10">
                    <h3 class="text-2xl font-bold mb-6">The 90-Day Window</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                        <div class="space-y-4">
                            <p class="text-indigo-200 font-bold uppercase text-[10px] tracking-widest">Eligibility Rules</p>
                            <ul class="text-sm space-y-3">
                                <li class="flex items-center gap-2"><i data-lucide="check-circle" class="w-4 h-4 text-indigo-400"></i> Original Packaging Required</li>
                                <li class="flex items-center gap-2"><i data-lucide="check-circle" class="w-4 h-4 text-indigo-400"></i> Unused & Same Condition</li>
                                <li class="flex items-center gap-2"><i data-lucide="check-circle" class="w-4 h-4 text-indigo-400"></i> Buyer pays return shipping</li>
                            </ul>
                        </div>
                        <div class="p-6 bg-white/10 rounded-2xl backdrop-blur-md">
                            <p class="font-bold mb-2">Policy Decline Template</p>
                            <p class="text-xs text-indigo-100 italic">"Unfortunately, your order is beyond the 90-day window. We can offer a coupon code for your next purchase as a gesture of goodwill."</p>
                        </div>
                    </div>
                </div>
                <div class="absolute -right-20 -bottom-20 w-80 h-80 bg-white/5 rounded-full"></div>
            </div>
          </div>

<div id="abandoned-cart-script">
  <h2 class="text-3xl font-bold text-slate-900 tracking-tight mb-4">
    Abandoned Cart Recovery
  </h2>
  <p class="text-slate-500 mb-8">
    Simple, compliant scripts to re-engage customers who started checkout but didn‚Äôt complete their purchase.
  </p>

  <div class="space-y-8">

    <!-- ARTICLE 1: WHEN TO CALL -->
    <article class="bg-slate-50 rounded-2xl p-6">
      <p class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2">
        Article 1 ¬∑ When to Contact
      </p>
      <ul class="text-sm text-slate-700 space-y-2">
        <li>‚Ä¢ Customer added items and entered contact details</li>
        <li>‚Ä¢ Call within 1‚Äì24 hours of cart abandonment</li>

    <li>‚Ä¢ Call only between <span class="font-bold text-blue-600">8 a.m. ‚Äì 9 p.m.</span>  in the recipient's local time</li>

        <li>‚Ä¢ Immediately honor opt-out or DNC requests</li>
        <li>‚Ä¢ Violations can result in fines; follow federal and state rules</li>
      </ul>
    </article>


    <!-- ARTICLE 2: CORE CALL SCRIPT -->
    <article class="bg-emerald-900 rounded-2xl p-6 text-white">
      <p class="text-[10px] font-bold text-emerald-200 uppercase tracking-widest mb-3">
        Article 2 ¬∑ Core Call Script
      </p>

      <div class="space-y-4 text-sm">
        <p class="italic">
          ‚ÄúHi, may I speak with <strong>[Customer Name]</strong>?  
          This is <strong>[Agent Name]</strong> calling from <strong>[Store Name]</strong>.
          You recently added items to your cart but didn‚Äôt get a chance to check out.
          Is now a good time for a quick minute?‚Äù
        </p>

        <p class="italic">
          ‚ÄúI just wanted to see if you had any questions or if something held you back‚Äî
          shipping, pricing, or product details.‚Äù
        </p>

        <p class="italic">
          ‚ÄúIf you‚Äôd like, I can help you finish the order now or email you your cart link for later.‚Äù
        </p>
      </div>
    </article>

    <!-- ARTICLE 3: SCRIPT VARIATIONS -->
    <article class="bg-slate-50 rounded-2xl p-6">
      <p class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-4">
        Article 3 ¬∑ Script Variations
      </p>

      <div class="space-y-5 text-sm text-slate-700">

        <!-- Forgot -->
        <div>
          <p class="font-semibold mb-1">Customer Forgot</p>
          <p class="italic">
            ‚ÄúNo worries at all‚Äîthings get busy! You had <strong>[Product Name]</strong>
            in your cart, and it‚Äôs one of our most popular items.‚Äù
          </p>
        </div>

        <!-- Price -->
        <div>
          <p class="font-semibold mb-1">Price Concern</p>
          <p class="italic">
            ‚ÄúThanks for sharing that. If it helps, I can apply
            <strong>[free shipping / small promo]</strong> today.‚Äù
          </p>
        </div>

        <!-- Shipping -->
        <div>
          <p class="font-semibold mb-1">Shipping Question</p>
          <p class="italic">
            ‚ÄúShipping typically takes <strong>[X‚ÄìY days]</strong>,
            and we send tracking as soon as it ships.‚Äù
          </p>
        </div>

        <!-- Still Thinking -->
        <div>
          <p class="font-semibold mb-1">Still Thinking</p>
          <p class="italic">
            ‚ÄúTotally fine. Would it help if I emailed you your cart
            so you can check out when it‚Äôs convenient?‚Äù
          </p>
        </div>

        <!-- Soft Close -->
        <div>
          <p class="font-semibold mb-1">Soft Close</p>
          <p class="italic">
            ‚ÄúWould you like me to help complete the order now,
            or would you prefer the link by email?‚Äù
          </p>
        </div>

      </div>
    </article>

  </div>
</div>


<div id="customer-response-templates">
  <h2 class="text-3xl font-bold text-slate-900 mb-4">
    Customer Response Templates
  </h2>
  <p class="text-slate-500 mb-10">
    Approved reply templates for sales, support, social media, shipping, refunds, and customer care.
  </p>

  <div class="space-y-12">

    <!-- ABANDONED / PAYMENT -->
    <section id="responses-abandoned-payment" class="space-y-6">
      <h3 class="text-xl font-semibold text-slate-900">Abandoned & Payment Issues</h3>

      <article class="bg-slate-50 rounded-2xl p-6">
        <p class="text-[10px] uppercase tracking-widest text-slate-400 mb-2">
          Abandon ‚Äì During Call
        </p>
        <pre class="text-sm text-slate-700 whitespace-pre-wrap">
Hello {{ticket.customer.firstname}},

I‚Äôd be happy to help you place your order.

You can use the following link to place your order:
[Insert link]

Before checking out, please apply this 20% discount code:
[Insert code]

If you run into any issues or have questions, I‚Äôm here to help.

Best regards,
{{current_user.firstname}}
Tsuki Glass Support
        </pre>
      </article>

      <article class="bg-slate-50 rounded-2xl p-6">
        <p class="text-[10px] uppercase tracking-widest text-slate-400 mb-2">
          Charged but No Order Found
        </p>
        <pre class="text-sm text-slate-700 whitespace-pre-wrap">
Hello {{ticket.customer.firstname}},

Thank you for reaching out. After checking our system, we do not see an order under your name.

To investigate further, please provide:
‚Ä¢ Email and address used
‚Ä¢ Date and time of charge
‚Ä¢ Amount charged

Once received, we‚Äôll resolve this promptly.

Best regards,
{{current_user.firstname}}
        </pre>
      </article>
    </section>

    <!-- SHIPPING -->
    <section id="responses-shipping" class="space-y-6">
      <h3 class="text-xl font-semibold text-slate-900">Shipping & Delivery</h3>

      <article class="bg-slate-50 rounded-2xl p-6">
        <p class="text-[10px] uppercase tracking-widest text-slate-400 mb-2">
          Shipping Delay
        </p>
        <pre class="text-sm text-slate-700 whitespace-pre-wrap">
Hello {{ticket.customer.firstname}},

I sincerely apologize for the delay. Due to increased order volume, some shipments are delayed.

Your order has shipped and can be tracked here:
https://tsukiglass.com/apps/track123?nums=

Best regards,
{{current_user.firstname}}
        </pre>
      </article>

      <article class="bg-slate-50 rounded-2xl p-6">
        <p class="text-[10px] uppercase tracking-widest text-slate-400 mb-2">
          Delivered to Incorrect Address
        </p>
        <pre class="text-sm text-slate-700 whitespace-pre-wrap">
Hi {{ticket.customer.firstname}},

We‚Äôve escalated this to our logistics team for urgent investigation.
We‚Äôll update you immediately once we hear back.

Kind regards,
{{current_user.firstname}}
        </pre>
      </article>
    </section>

    <!-- SOCIAL -->
    <section id="responses-social" class="space-y-6">
      <h3 class="text-xl font-semibold text-slate-900">Social Media Responses</h3>

      <article class="bg-slate-50 rounded-2xl p-6">
        <p class="text-[10px] uppercase tracking-widest text-slate-400 mb-2">
          Loved the Glasses
        </p>
        <p class="text-sm italic text-slate-700">
          We absolutely love hearing this! üéâ Every TsukiGlass is handcrafted to elevate your experience.
        </p>
      </article>

      <article class="bg-slate-50 rounded-2xl p-6">
        <p class="text-[10px] uppercase tracking-widest text-slate-400 mb-2">
          Out of Stock
        </p>
        <p class="text-sm italic text-slate-700">
          Thanks for your interest! Please sign up for an email alert on the product page to be notified when it‚Äôs back.
        </p>
      </article>
    </section>

    <!-- RETURNS -->
    <section id="responses-returns" class="space-y-6">
      <h3 class="text-xl font-semibold text-slate-900">Returns, Refunds & Damage</h3>

      <article class="bg-slate-50 rounded-2xl p-6">
        <p class="text-[10px] uppercase tracking-widest text-slate-400 mb-2">
          Broken Glass Replacement
        </p>
        <pre class="text-sm text-slate-700 whitespace-pre-wrap">
Dear {{ticket.customer.firstname}},

We‚Äôve arranged a replacement set of 2 glasses.
No return is required.

Best regards,
{{current_user.firstname}}
        </pre>
      </article>

      <article class="bg-slate-50 rounded-2xl p-6">
        <p class="text-[10px] uppercase tracking-widest text-slate-400 mb-2">
          Return Beyond 30 Days
        </p>
        <pre class="text-sm text-slate-700 whitespace-pre-wrap">
While we‚Äôre unable to process a refund, we‚Äôd like to offer a 30% discount on your next order.

Code: X67YGF30ReturnGift
        </pre>
      </article>
    </section>

    <!-- PRODUCT -->
    <section id="responses-product" class="space-y-6">
      <h3 class="text-xl font-semibold text-slate-900">Product & Store Inquiries</h3>

      <article class="bg-slate-50 rounded-2xl p-6">
        <p class="text-[10px] uppercase tracking-widest text-slate-400 mb-2">
          Left-Handed Product Inquiry
        </p>
        <p class="text-sm text-slate-700">
          The Storm Japanese Crystal Whisky Glass is designed to be comfortable for both left- and right-handed users.
        </p>
      </article>
    </section>

    <!-- FEEDBACK -->
    <section id="responses-feedback" class="space-y-6">
      <h3 class="text-xl font-semibold text-slate-900">Feedback & Reviews</h3>

      <article class="bg-slate-50 rounded-2xl p-6">
        <p class="text-[10px] uppercase tracking-widest text-slate-400 mb-2">
          Positive Feedback
        </p>
        <p class="text-sm text-slate-700">
          Thank you so much for your kind words! We‚Äôd truly appreciate a review on Trustpilot.
        </p>
      </article>
    </section>

  </div>
</div>



          <div id="retention-calculator">
            <h2 class="text-3xl font-bold text-slate-900 tracking-tight mb-8">Retention Offer Calculator</h2>
            
            <div class="bg-white border border-slate-200 rounded-[32px] p-10 shadow-2xl shadow-slate-200/50">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-10 mb-10">
                <div class="space-y-2">
                  <label class="text-[10px] font-extrabold text-slate-400 uppercase tracking-widest">Order Total ($)</label>
                  <input type="number" id="orderAmount" placeholder="0.00" class="w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl text-2xl font-bold focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all outline-none" oninput="calculateRetention()">
                </div>
                <div class="space-y-2">
                  <label class="text-[10px] font-extrabold text-slate-400 uppercase tracking-widest">Existing Discount (%)</label>
                  <input type="number" id="existingDiscount" value="0" min="0" max="20" class="w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl text-2xl font-bold focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all outline-none" oninput="calculateRetention()">
                </div>
              </div>

              <div id="results" class="hidden animate-in fade-in slide-in-from-bottom-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <div class="p-8 bg-blue-600 text-white rounded-[24px]">
                        <p class="text-[10px] font-bold uppercase tracking-widest opacity-80 mb-4">Option A: Partial Refund</p>
                        <h4 class="text-4xl font-bold mb-2" id="refundAmount">$0.00</h4>
                        <p class="text-xs text-blue-100 mb-6">Immediate refund + <span id="refundDiscount">30%</span> coupon</p>
                        <div class="pt-6 border-t border-white/20">
                            <p class="text-[10px] uppercase font-bold opacity-60">Customer Net Pay</p>
                            <p class="text-xl font-bold" id="refundNetAmount">$0.00</p>
                        </div>
                    </div>
                    <div class="p-8 bg-slate-900 text-white rounded-[24px]">
                        <p class="text-[10px] font-bold uppercase tracking-widest opacity-80 mb-4">Option B: Store Credit</p>
                        <h4 class="text-4xl font-bold mb-2" id="creditAmount">$0.00</h4>
                        <p class="text-xs text-slate-400 mb-6">Store credit + <span id="creditDiscount">30%</span> coupon</p>
                        <div class="pt-6 border-t border-white/20">
                            <p class="text-[10px] uppercase font-bold opacity-60">Total Value Offered</p>
                            <p class="text-xl font-bold" id="creditTotalValue">$0.00</p>
                        </div>
                    </div>
                </div>

                <div class="bg-slate-50 border border-slate-200 rounded-2xl p-6">
                    <p class="text-[10px] font-bold text-slate-400 uppercase mb-4 tracking-widest">Personalized Script</p>
                    <div class="text-sm text-slate-700 leading-relaxed font-medium" id="scriptTemplate"></div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <section id="view-schedule" class="view-content hidden">
      <!-- Header with Week Navigation -->
      <div class="flex justify-between items-center mb-6">
        <div>
          <h1 class="text-3xl font-bold text-slate-900 tracking-tight">Schedule</h1>
          <p class="text-slate-500 mt-1">Shift Scheduling and Coverage</p>
        </div>
        <div class="flex items-center gap-3">
          <button class="bg-white border border-slate-200 px-4 py-2 rounded-lg text-sm font-semibold text-slate-600 hover:bg-slate-50 flex items-center gap-2">
            <i data-lucide="download" class="w-4 h-4"></i> Export
          </button>
          <button class="bg-slate-900 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-slate-800 flex items-center gap-2">
            <i data-lucide="plus" class="w-4 h-4"></i> Add Shift
          </button>
        </div>
      </div>

      <!-- Week Navigation Bar -->
      <div class="glass-card p-4 mb-6 flex items-center justify-between">
        <div class="flex items-center gap-4">
          <button class="p-2 hover:bg-slate-100 rounded-lg transition-colors">
            <i data-lucide="chevron-left" class="w-5 h-5 text-slate-600"></i>
          </button>
          <div class="flex items-center gap-3">
            <h2 class="text-xl font-bold text-slate-900">Dec 29 - Jan 4</h2>
            <button class="p-1 hover:bg-slate-100 rounded transition-colors">
              <i data-lucide="calendar" class="w-4 h-4 text-slate-500"></i>
            </button>
          </div>
          <button class="p-2 hover:bg-slate-100 rounded-lg transition-colors">
            <i data-lucide="chevron-right" class="w-5 h-5 text-slate-600"></i>
          </button>
        </div>
        <div class="flex items-center gap-2">
          <select class="bg-white border border-slate-200 px-3 py-2 rounded-lg text-sm font-medium text-slate-700">
            <option>Week</option>
            <option>Day</option>
            <option>Month</option>
          </select>
          <select class="bg-white border border-slate-200 px-3 py-2 rounded-lg text-sm font-medium text-slate-700">
            <option>All Employees (12)</option>
            <option>Agents Only</option>
            <option>Team Leads</option>
          </select>
        </div>
      </div>

      <!-- Calendar Grid -->
      <div class="glass-card overflow-hidden">
        <!-- Day Headers -->
<!-- Day Headers -->
<div class="grid grid-cols-8 border-b border-slate-200 bg-slate-50" id="week-header">
  <div class="p-4 border-r border-slate-200">
    <p class="text-xs font-bold text-slate-500 uppercase tracking-wider">Employee</p>
  </div>
  <div class="p-4 text-center border-r border-slate-200" data-day="Mon"></div>
  <div class="p-4 text-center border-r border-slate-200" data-day="Tue"></div>
  <div class="p-4 text-center border-r border-slate-200" data-day="Wed"></div>
  <div class="p-4 text-center border-r border-slate-200" data-day="Thu"></div>
  <div class="p-4 text-center border-r border-slate-200" data-day="Fri"></div>
  <div class="p-4 text-center border-r border-slate-200" data-day="Sat"></div>
  <div class="p-4 text-center" data-day="Sun"></div>
</div>


        <!-- Employee Rows -->
        <div id="schedule-tbody">
        <!-- Agent 1 -->
        <div class="grid grid-cols-8 border-b border-slate-100 hover:bg-slate-50 transition-colors">
          <div class="p-4 border-r border-slate-100 flex items-center gap-3">
            <div class="w-8 h-8 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold text-sm">A1</div>
            <div>
              <p class="font-semibold text-slate-900 text-sm">Agent 1</p>
              <p class="text-xs text-slate-500">40.00 Hrs/week</p>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-cyan-500 text-white px-3 py-2 rounded text-xs font-semibold text-center w-full">
              <div class="font-bold">7PM - 4AM</div>
              <div class="text-[10px] opacity-90 mt-1">AGENT</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-cyan-500 text-white px-3 py-2 rounded text-xs font-semibold text-center w-full">
              <div class="font-bold">7PM - 4AM</div>
              <div class="text-[10px] opacity-90 mt-1">AGENT</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-cyan-500 text-white px-3 py-2 rounded text-xs font-semibold text-center w-full">
              <div class="font-bold">7PM - 4AM</div>
              <div class="text-[10px] opacity-90 mt-1">AGENT</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center bg-blue-50">
            <div class="bg-cyan-500 text-white px-3 py-2 rounded text-xs font-semibold text-center w-full">
              <div class="font-bold">7PM - 4AM</div>
              <div class="text-[10px] opacity-90 mt-1">AGENT</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-cyan-500 text-white px-3 py-2 rounded text-xs font-semibold text-center w-full">
              <div class="font-bold">7PM - 4AM</div>
              <div class="text-[10px] opacity-90 mt-1">AGENT</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-slate-100 text-slate-400 px-3 py-2 rounded text-xs font-semibold text-center w-full">OFF</div>
          </div>
          <div class="p-2 flex items-center justify-center">
            <div class="bg-slate-100 text-slate-400 px-3 py-2 rounded text-xs font-semibold text-center w-full">OFF</div>
          </div>
        </div>

        <!-- Agent 2 -->
        <div class="grid grid-cols-8 border-b border-slate-100 hover:bg-slate-50 transition-colors">
          <div class="p-4 border-r border-slate-100 flex items-center gap-3">
            <div class="w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-400 font-bold text-sm">A2</div>
            <div>
              <p class="font-semibold text-slate-900 text-sm">Agent 2</p>
              <p class="text-xs text-slate-500">40.00 Hrs/week</p>
            </div>
          </div>

                    <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-slate-100 text-slate-400 px-3 py-2 rounded text-xs font-semibold text-center w-full">OFF</div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
               <div class="bg-slate-100 text-slate-600 px-3 py-2 rounded text-xs font-semibold text-center w-full border border-slate-200">
              <div class="font-bold">4AM - 1PM</div>
              <div class="text-[10px] opacity-90 mt-1">AGENT</div>
            </div>
          </div>

          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-slate-100 text-slate-600 px-3 py-2 rounded text-xs font-semibold text-center w-full border border-slate-200">
              <div class="font-bold">4AM - 1PM</div>
              <div class="text-[10px] opacity-90 mt-1">AGENT</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center bg-blue-50">
            <div class="bg-slate-100 text-slate-600 px-3 py-2 rounded text-xs font-semibold text-center w-full border border-slate-200">
              <div class="font-bold">4AM - 1PM</div>
              <div class="text-[10px] opacity-90 mt-1">AGENT</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-slate-100 text-slate-600 px-3 py-2 rounded text-xs font-semibold text-center w-full border border-slate-200">
              <div class="font-bold">4AM - 1PM</div>
              <div class="text-[10px] opacity-90 mt-1">AGENT</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-slate-100 text-slate-600 px-3 py-2 rounded text-xs font-semibold text-center w-full border border-slate-200">
              <div class="font-bold">4AM - 1PM</div>
              <div class="text-[10px] opacity-90 mt-1">AGENT</div>
            </div>
          </div>
          <div class="p-2 flex items-center justify-center">
            <div class="bg-slate-100 text-slate-400 px-3 py-2 rounded text-xs font-semibold text-center w-full">OFF</div>
          </div>
        </div>

        <!-- Team Lead - Backup 1 -->
        <div class="grid grid-cols-8 border-b border-slate-100 hover:bg-slate-50 transition-colors">
          <div class="p-4 border-r border-slate-100 flex items-center gap-3">
            <div class="w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center text-white font-bold text-sm">B1</div>
            <div>
              <p class="font-semibold text-slate-900 text-sm">Backup 1</p>
              <p class="text-xs text-slate-500">Team Lead</p>
            </div>
          </div>
          <div class="p-2 flex items-center justify-center">
            <div class="bg-slate-100 text-slate-400 px-3 py-2 rounded text-xs font-semibold text-center w-full">OFF</div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-emerald-300 text-slate-600 px-3 py-2 rounded text-xs font-semibold text-center w-full">
              <div class="font-bold">ON-CALL</div>
              <div class="text-[10px] opacity-70 mt-1">BACKUP</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-emerald-300 text-slate-600 px-3 py-2 rounded text-xs font-semibold text-center w-full">
              <div class="font-bold">ON-CALL</div>
              <div class="text-[10px] opacity-70 mt-1">BACKUP</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center bg-blue-50">
            <div class="bg-emerald-300 text-slate-600 px-3 py-2 rounded text-xs font-semibold text-center w-full">
              <div class="font-bold">ON-CALL</div>
              <div class="text-[10px] opacity-70 mt-1">BACKUP</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-emerald-300 text-slate-600 px-3 py-2 rounded text-xs font-semibold text-center w-full">
              <div class="font-bold">ON-CALL</div>
              <div class="text-[10px] opacity-70 mt-1">BACKUP</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-emerald-300 text-slate-600 px-3 py-2 rounded text-xs font-semibold text-center w-full">
              <div class="font-bold">ON-CALL</div>
              <div class="text-[10px] opacity-70 mt-1">BACKUP</div>
            </div>
          </div>
          <div class="p-2 flex items-center justify-center">
            <div class="bg-slate-100 text-slate-400 px-3 py-2 rounded text-xs font-semibold text-center w-full">OFF</div>
          </div>
        </div>

        <!-- Team Lead - Backup 2 -->
        <div class="grid grid-cols-8 border-b border-slate-100 hover:bg-slate-50 transition-colors">
          <div class="p-4 border-r border-slate-100 flex items-center gap-3">
            <div class="w-8 h-8 rounded-full bg-emerald-600 flex items-center justify-center text-white font-bold text-sm">B2</div>
            <div>
              <p class="font-semibold text-slate-900 text-sm">Backup 2</p>
              <p class="text-xs text-slate-500">Team Lead</p>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-slate-100 text-slate-600 px-3 py-2 rounded text-xs font-semibold text-center w-full border border-slate-200">
              <div class="font-bold">ON-CALL</div>
              <div class="text-[10px] opacity-70 mt-1">BACKUP</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-slate-100 text-slate-600 px-3 py-2 rounded text-xs font-semibold text-center w-full border border-slate-200">
              <div class="font-bold">ON-CALL</div>
              <div class="text-[10px] opacity-70 mt-1">BACKUP</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-slate-100 text-slate-600 px-3 py-2 rounded text-xs font-semibold text-center w-full border border-slate-200">
              <div class="font-bold">ON-CALL</div>
              <div class="text-[10px] opacity-70 mt-1">BACKUP</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center bg-blue-50">
            <div class="bg-slate-100 text-slate-600 px-3 py-2 rounded text-xs font-semibold text-center w-full border border-slate-200">
              <div class="font-bold">ON-CALL</div>
              <div class="text-[10px] opacity-70 mt-1">BACKUP</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-slate-100 text-slate-600 px-3 py-2 rounded text-xs font-semibold text-center w-full border border-slate-200">
              <div class="font-bold">ON-CALL</div>
              <div class="text-[10px] opacity-70 mt-1">BACKUP</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-slate-100 text-slate-400 px-3 py-2 rounded text-xs font-semibold text-center w-full">OFF</div>
          </div>
          <div class="p-2 flex items-center justify-center">
            <div class="bg-slate-100 text-slate-400 px-3 py-2 rounded text-xs font-semibold text-center w-full">OFF</div>
          </div>
        </div>

        <!-- Project Manager -->
        <div class="grid grid-cols-8 hover:bg-slate-50 transition-colors">
          <div class="p-4 border-r border-slate-100 flex items-center gap-3">
            <div class="w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center text-white font-bold text-sm">PM</div>
            <div>
              <p class="font-semibold text-slate-900 text-sm">Project Mgr.</p>
              <p class="text-xs text-slate-500">Management</p>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-purple-500 text-white px-3 py-2 rounded text-xs font-semibold text-center w-full">
              <div class="font-bold">FLEXIBLE</div>
              <div class="text-[10px] opacity-90 mt-1">STRATEGY</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-purple-500 text-white px-3 py-2 rounded text-xs font-semibold text-center w-full">
              <div class="font-bold">FLEXIBLE</div>
              <div class="text-[10px] opacity-90 mt-1">STRATEGY</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-purple-500 text-white px-3 py-2 rounded text-xs font-semibold text-center w-full">
              <div class="font-bold">FLEXIBLE</div>
              <div class="text-[10px] opacity-90 mt-1">STRATEGY</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center bg-blue-50">
            <div class="bg-purple-500 text-white px-3 py-2 rounded text-xs font-semibold text-center w-full">
              <div class="font-bold">FLEXIBLE</div>
              <div class="text-[10px] opacity-90 mt-1">STRATEGY</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-purple-500 text-white px-3 py-2 rounded text-xs font-semibold text-center w-full">
              <div class="font-bold">FLEXIBLE</div>
              <div class="text-[10px] opacity-90 mt-1">STRATEGY</div>
            </div>
          </div>
          <div class="p-2 border-r border-slate-100 flex items-center justify-center">
            <div class="bg-slate-100 text-slate-400 px-3 py-2 rounded text-xs font-semibold text-center w-full">OFF</div>
          </div>
          <div class="p-2 flex items-center justify-center">
            <div class="bg-slate-100 text-slate-400 px-3 py-2 rounded text-xs font-semibold text-center w-full">OFF</div>
          </div>
        </div>
        </div>
      </div>

      <!-- Summary Stats -->
      <div class="grid grid-cols-4 gap-6 mt-6">
        <div class="glass-card p-6">
          <p class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2">Total Scheduled Hours</p>
          <p class="text-3xl font-bold text-slate-900">80.0</p>
          <p class="text-xs text-slate-500 mt-1">Per week</p>
        </div>
        <div class="glass-card p-6">
          <p class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2">Coverage Rate</p>
          <p class="text-3xl font-bold text-emerald-600">100%</p>
          <p class="text-xs text-slate-500 mt-1">All shifts covered</p>
        </div>
        <div class="glass-card p-6">
          <p class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2">Active Employees</p>
          <p class="text-3xl font-bold text-slate-900">4</p>
          <p class="text-xs text-slate-500 mt-1">1 Agent, 2 TL, 1 PM</p>
        </div>
        <div class="glass-card p-6">
          <p class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2">Backup Coverage</p>
          <p class="text-3xl font-bold text-blue-600">2</p>
          <p class="text-xs text-slate-500 mt-1">Team leads on-call</p>
        </div>
      </div>
    </section>

    <section id="view-settings" class="view-content hidden">
      <div class="flex justify-between items-center mb-8">
        <h1 class="text-3xl font-bold text-slate-900">Role Permissions</h1>
        <button onclick="toggleAddUserModal()" class="bg-slate-900 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-slate-800 flex items-center gap-2">
          <i data-lucide="plus" class="w-4 h-4"></i> Add User
        </button>
      </div>

      <!-- Add User Modal -->
      <div id="addUserModal" class="hidden mb-6 bg-white border border-slate-200 rounded-lg p-6">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-lg font-bold text-slate-900">Add New User</h3>
          <button onclick="toggleAddUserModal()" class="text-slate-400 hover:text-slate-900">
            <i data-lucide="x" class="w-5 h-5"></i>
          </button>
        </div>
        <div class="grid grid-cols-2 gap-4 mb-4">
          <div>
            <label class="text-xs font-semibold text-slate-600 block mb-2">Full Name</label>
            <input type="text" placeholder="John Doe" class="w-full px-3 py-2 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
          </div>
          <div>
            <label class="text-xs font-semibold text-slate-600 block mb-2">Email</label>
            <input type="email" placeholder="john@example.com" class="w-full px-3 py-2 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
          </div>
          <div>
            <label class="text-xs font-semibold text-slate-600 block mb-2">Username</label>
            <input type="text" placeholder="johndoe" class="w-full px-3 py-2 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
          </div>
          <div>
            <label class="text-xs font-semibold text-slate-600 block mb-2">Role</label>
            <select class="w-full px-3 py-2 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
              <option value="">Select role...</option>
              <option value="agent">Agent</option>
              <option value="agent">Agent</option>
              <option value="lead">Team Lead</option>
              <option value="admin">Administrator</option>
            </select>
          </div>
        </div>
        <div class="flex gap-2 justify-end">
          <button onclick="toggleAddUserModal()" class="px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-50 rounded-lg">Cancel</button>
          <button class="px-4 py-2 text-sm font-semibold bg-slate-900 text-white hover:bg-slate-800 rounded-lg">Add User</button>
        </div>
      </div>

      <!-- Edit User Modal -->
      <div id="editUserModal" class="hidden mb-6 bg-white border border-slate-200 rounded-lg p-6">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-lg font-bold text-slate-900">Edit User</h3>
          <button onclick="toggleEditUserModal()" class="text-slate-400 hover:text-slate-900">
            <i data-lucide="x" class="w-5 h-5"></i>
          </button>
        </div>
        <div class="grid grid-cols-2 gap-4 mb-4">
          <div>
            <label class="text-xs font-semibold text-slate-600 block mb-2">Full Name</label>
            <input type="text" id="editFullName" class="w-full px-3 py-2 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
          </div>
          <div>
            <label class="text-xs font-semibold text-slate-600 block mb-2">Email</label>
            <input type="email" id="editEmail" class="w-full px-3 py-2 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
          </div>
          <div>
            <label class="text-xs font-semibold text-slate-600 block mb-2">Username</label>
            <input type="text" id="editUsername" class="w-full px-3 py-2 text-sm border border-slate-200 rounded-lg bg-slate-50" disabled>
          </div>
          <div>
            <label class="text-xs font-semibold text-slate-600 block mb-2">Role</label>
            <select id="editRole" class="w-full px-3 py-2 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
              <option value="agent">Agent</option>
              <option value="agent">Agent</option>
              <option value="lead">Team Lead</option>
              <option value="admin">Administrator</option>
            </select>
          </div>
        </div>
        <div class="flex gap-2 justify-end">
          <button onclick="toggleEditUserModal()" class="px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-50 rounded-lg">Cancel</button>
          <button class="px-4 py-2 text-sm font-semibold bg-slate-900 text-white hover:bg-slate-800 rounded-lg">Save Changes</button>
        </div>
      </div>

      <div class="glass-card overflow-hidden">
        <table class="w-full text-left">
          <thead class="bg-slate-50 border-b border-slate-200">
            <tr>
              <th class="px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider">Username</th>
              <th class="px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider">Role</th>
              <th class="px-6 py-4 text-[11px] font-bold text-slate-400 uppercase tracking-wider w-24">Actions</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-slate-100 bg-white">
            <tr class="hover:bg-slate-50/50 transition-colors">
              <td class="px-6 py-4">
                <div class="flex items-center gap-3">
                  <div class="w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center font-bold text-xs text-slate-600">A1</div>
                  <span class="text-sm font-semibold text-slate-900">Agent 1</span>
                </div>
              </td>
              <td class="px-6 py-4">
                <select class="text-xs font-semibold px-3 py-1 border border-slate-200 rounded-full bg-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                  <option value="agent" selected>Agent</option>
              <option value="agent">Agent</option>
                  <option value="lead">Team Lead</option>
                  <option value="admin">Administrator</option>
                </select>
              </td>
              <td class="px-6 py-4">
                <button onclick="openEditUser('Agent 1', 'agent1@tsukiglass.com', 'agent')" class="text-slate-400 hover:text-slate-900 transition-colors">
                  <i data-lucide="pencil" class="w-4 h-4"></i>
                </button>
              </td>
            </tr>
            <tr class="hover:bg-slate-50/50 transition-colors">
              <td class="px-6 py-4">
                <div class="flex items-center gap-3">
                  <div class="w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center font-bold text-xs text-slate-600">A2</div>
                  <span class="text-sm font-semibold text-slate-900">Agent 2</span>
                </div>
              </td>
              <td class="px-6 py-4">
                <select class="text-xs font-semibold px-3 py-1 border border-slate-200 rounded-full bg-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                  <option value="agent">Agent</option>
              <option value="agent">Agent</option>
                  <option value="lead">Team Lead</option>
                  <option value="admin">Administrator</option>
                </select>
              </td>
              <td class="px-6 py-4">
                <button onclick="openEditUser('Agent 2', 'agent2@tsukiglass.com', 'qa')" class="text-slate-400 hover:text-slate-900 transition-colors">
                  <i data-lucide="pencil" class="w-4 h-4"></i>
                </button>
              </td>
            </tr>
            <tr class="hover:bg-slate-50/50 transition-colors">
              <td class="px-6 py-4">
                <div class="flex items-center gap-3">
                  <div class="w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center font-bold text-xs text-slate-600">B1</div>
                  <span class="text-sm font-semibold text-slate-900">Backup 1</span>
                </div>
              </td>
              <td class="px-6 py-4">
                <select class="text-xs font-semibold px-3 py-1 border border-slate-200 rounded-full bg-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                  <option value="agent">Agent</option>
                  <option value="qa">Quality Assurance</option>
                  <option value="lead" selected>Team Lead</option>
                  <option value="admin">Administrator</option>
                </select>
              </td>
              <td class="px-6 py-4">
                <button onclick="openEditUser('Backup 1', 'backup1@tsukiglass.com', 'lead')" class="text-slate-400 hover:text-slate-900 transition-colors">
                  <i data-lucide="pencil" class="w-4 h-4"></i>
                </button>
              </td>
            </tr>
            <tr class="hover:bg-slate-50/50 transition-colors">
              <td class="px-6 py-4">
                <div class="flex items-center gap-3">
                  <div class="w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center font-bold text-xs text-slate-600">B2</div>
                  <span class="text-sm font-semibold text-slate-900">Backup 2</span>
                </div>
              </td>
              <td class="px-6 py-4">
                <select class="text-xs font-semibold px-3 py-1 border border-slate-200 rounded-full bg-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                  <option value="agent">Agent</option>
                  <option value="qa">Quality Assurance</option>
                  <option value="lead" selected>Team Lead</option>
                  <option value="admin">Administrator</option>
                </select>
              </td>
              <td class="px-6 py-4">
                <button onclick="openEditUser('Backup 2', 'backup2@tsukiglass.com', 'lead')" class="text-slate-400 hover:text-slate-900 transition-colors">
                  <i data-lucide="pencil" class="w-4 h-4"></i>
                </button>
              </td>
            </tr>
            <tr class="hover:bg-slate-50/50 transition-colors">
              <td class="px-6 py-4">
                <div class="flex items-center gap-3">
                  <div class="w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center font-bold text-xs text-slate-600">PM</div>
                  <span class="text-sm font-semibold text-slate-900">Project Manager</span>
                </div>
              </td>
              <td class="px-6 py-4">
                <select class="text-xs font-semibold px-3 py-1 border border-slate-200 rounded-full bg-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                  <option value="agent">Agent</option>
                  <option value="qa">Quality Assurance</option>
                  <option value="lead">Team Lead</option>
                  <option value="admin" selected>Administrator</option>
                </select>
              </td>
              <td class="px-6 py-4">
                <button onclick="openEditUser('Project Manager', 'pm@tsukiglass.com', 'admin')" class="text-slate-400 hover:text-slate-900 transition-colors">
                  <i data-lucide="pencil" class="w-4 h-4"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

  </main>

  <script>
    // Google Apps Script Integration
    const GAS_MODE = typeof google !== 'undefined' && google.script; // Detect if running in Apps Script

    // Load schedule data from Google Sheets
    function loadScheduleData() {
      if (GAS_MODE) {
        google.script.run
          .withSuccessHandler(onScheduleDataLoaded)
          .withFailureHandler(onScheduleError)
          .getScheduleData();
      } else {
        console.log('Running in standalone mode - using static data');
      }
    }

    // Callback when schedule data is loaded
    function onScheduleDataLoaded(response) {
      if (response.error) {
        console.error('Error loading schedule:', response.error);
        alert('Error loading schedule: ' + response.error);
        return;
      }

      if (response.success && response.data) {
        renderSchedule(response.data);
      }
    }

    // Error handler
    function onScheduleError(error) {
      console.error('Apps Script error:', error);
      alert('Error communicating with server: ' + error.message);
    }

    // Render schedule table from data
    function renderSchedule(scheduleData) {
      const tbody = document.getElementById('schedule-tbody');
      if (!tbody) return;

      tbody.innerHTML = '';

      scheduleData.forEach((employee, index) => {
        const row = createScheduleRow(employee, index);
        tbody.appendChild(row);
      });

      lucide.createIcons();
    }

    // Create a schedule row element
    function createScheduleRow(employee, index) {
      const row = document.createElement('div');
      row.className = 'grid grid-cols-8 border-b border-slate-100 hover:bg-slate-50 transition-colors schedule-row';
      row.dataset.employee = employee.Employee;

      const days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
      const colorClass = employee.Color || 'slate-500';

      // Employee name cell
      row.innerHTML = `
        <div class="p-4 border-r border-slate-100 flex items-center gap-3">
          <div class="w-8 h-8 rounded-full bg-${colorClass} flex items-center justify-center text-white font-bold text-sm">${employee.Initials}</div>
          <div>
            <p class="font-semibold text-slate-900 text-sm">${employee.Employee}</p>
            <p class="text-xs text-slate-500">${employee.HoursPerWeek}.00 Hrs/week</p>
          </div>
        </div>
      `;

      // Day cells
      days.forEach(day => {
        const cellDiv = document.createElement('div');
        cellDiv.className = 'p-2 border-r border-slate-100 flex items-center justify-center schedule-cell';
        cellDiv.dataset.day = day;
        cellDiv.dataset.employee = employee.Employee;

        const shiftValue = employee[day] || '';
        const isOff = shiftValue === 'OFF';
        const isOnCall = shiftValue.includes('ON-CALL');
        const isFlexible = shiftValue.includes('FLEXIBLE');

        let cellContent;
        if (isOff) {
          cellContent = `<div class="bg-slate-100 text-slate-400 px-3 py-2 rounded text-xs font-semibold text-center w-full editable-shift" contenteditable="true">${shiftValue}</div>`;
        } else if (isOnCall) {
          cellContent = `<div class="bg-slate-100 text-slate-600 px-3 py-2 rounded text-xs font-semibold text-center w-full border border-slate-200 editable-shift" contenteditable="true">
            <div class="font-bold">ON-CALL</div>
            <div class="text-[10px] opacity-70 mt-1">BACKUP</div>
          </div>`;
        } else if (isFlexible) {
          cellContent = `<div class="bg-purple-500 text-white px-3 py-2 rounded text-xs font-semibold text-center w-full editable-shift" contenteditable="true">
            <div class="font-bold">FLEXIBLE</div>
            <div class="text-[10px] opacity-90 mt-1">STRATEGY</div>
          </div>`;
        } else {
          cellContent = `<div class="bg-${colorClass} text-white px-3 py-2 rounded text-xs font-semibold text-center w-full editable-shift" contenteditable="true">
            <div class="font-bold">${shiftValue}</div>
            <div class="text-[10px] opacity-90 mt-1">${employee.Role}</div>
          </div>`;
        }

        cellDiv.innerHTML = cellContent;
        row.appendChild(cellDiv);
      });

      // Remove last day Sunday's border
      row.lastChild.classList.remove('border-r');

      return row;
    }

    // Save schedule changes to Google Sheets
    function saveScheduleChange(employeeName, day, value) {
      if (!GAS_MODE) {
        console.log('Standalone mode - change not persisted:', employeeName, day, value);
        return;
      }

      google.script.run
        .withSuccessHandler(onScheduleSaved)
        .withFailureHandler(onScheduleError)
        .updateScheduleCell(employeeName, day, value);
    }

    // Callback when schedule is saved
    function onScheduleSaved(response) {
      if (response.error) {
        console.error('Error saving schedule:', response.error);
        alert('Error saving schedule: ' + response.error);
        return;
      }

      console.log('Schedule saved successfully');
      // Optionally show a brief success indicator
    }

    // Set up edit listeners for schedule cells
    function initScheduleEditing() {
      document.addEventListener('blur', function(e) {
        if (e.target.classList.contains('editable-shift')) {
          const cell = e.target.closest('.schedule-cell');
          if (!cell) return;

          const employeeName = cell.dataset.employee;
          const day = cell.dataset.day;
          const newValue = e.target.textContent.trim();

          saveScheduleChange(employeeName, day, newValue);
        }
      }, true);

      // Also save on Enter key
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' && e.target.classList.contains('editable-shift')) {
          e.preventDefault();
          e.target.blur();
        }
      });
    }

    // Load data when view changes to schedule
    function onViewChange(viewId) {
      if (viewId === 'schedule') {
        loadScheduleData();
      }
    }

    function calculateRetention() {
      const amount = parseFloat(document.getElementById('orderAmount').value) || 0;
      const existingDiscount = parseFloat(document.getElementById('existingDiscount').value) || 0;
      const resultsDiv = document.getElementById('results');

      if (amount <= 0) {
        resultsDiv.classList.add('hidden');
        return;
      }

      let refundPercent, creditAmount, nextOrderDiscount;

      if (amount < 100) {
        refundPercent = 20; creditAmount = 35; nextOrderDiscount = 30;
      } else if (amount >= 100 && amount < 150) {
        refundPercent = 25; creditAmount = 50; nextOrderDiscount = 30;
      } else {
        refundPercent = 30; creditAmount = 60; nextOrderDiscount = 30;
      }

      const maxAdditional = Math.max(0, 20 - existingDiscount);
      const adjustedDiscount = Math.min(nextOrderDiscount, maxAdditional + 10);
      const refundVal = (amount * refundPercent / 100).toFixed(2);
      const netVal = (amount - refundVal).toFixed(2);

      document.getElementById('refundAmount').textContent = `$${refundVal}`;
      document.getElementById('refundDiscount').textContent = `${adjustedDiscount}%`;
      document.getElementById('refundNetAmount').textContent = `$${netVal}`;
      document.getElementById('creditAmount').textContent = `$${creditAmount}`;
      document.getElementById('creditDiscount').textContent = `${adjustedDiscount}%`;
      document.getElementById('creditTotalValue').textContent = `$${creditAmount} + ${adjustedDiscount}% Off`;

      document.getElementById('scriptTemplate').innerHTML = `Hi Customer, I understand you'd like to cancel. We'd love to keep you with us! <br><br><strong>Option A:</strong> A refund of $${refundVal} plus a ${adjustedDiscount}% code.<br><strong>Option B:</strong> $${creditAmount} in store credit plus a ${adjustedDiscount}% code.<br><br>Which do you prefer?`;

      resultsDiv.classList.remove('hidden');
      lucide.createIcons();
    }

    function setView(viewId) {
      document.querySelectorAll('.nav-item').forEach(btn => btn.classList.remove('nav-active'));
      document.getElementById('btn-' + viewId).classList.add('nav-active');
      document.querySelectorAll('.view-content').forEach(view => view.classList.add('hidden'));
      document.getElementById('view-' + viewId).classList.remove('hidden');
      window.scrollTo(0,0);

      // Trigger view change callback
      onViewChange(viewId);
    }

    function scrollToSection(id) {
        document.getElementById(id).scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function copyTemplate(el) {
        const text = el.querySelector('p:last-child').innerText;
        navigator.clipboard.writeText(text);
        const hint = el.querySelector('.copy-hint');
        hint.innerText = 'COPIED!';
        hint.classList.add('text-emerald-500');
        setTimeout(() => {
            hint.innerText = 'CLICK TO COPY';
            hint.classList.remove('text-emerald-500');
        }, 2000);
    }

    function toggleAddUserModal() {
        const modal = document.getElementById('addUserModal');
        modal.classList.toggle('hidden');
        if (!modal.classList.contains('hidden')) {
            lucide.createIcons();
        }
    }

    function toggleEditUserModal() {
        const modal = document.getElementById('editUserModal');
        modal.classList.toggle('hidden');
        if (!modal.classList.contains('hidden')) {
            lucide.createIcons();
        }
    }

    function openEditUser(fullName, email, role) {
        document.getElementById('editFullName').value = fullName;
        document.getElementById('editEmail').value = email;
        document.getElementById('editUsername').value = email.split('@')[0];
        document.getElementById('editRole').value = role;
        toggleEditUserModal();
    }

    function toggleNavSection(sectionId) {
        const section = document.getElementById('nav-' + sectionId);
        const chevron = document.getElementById('chevron-' + sectionId);

        if (section.classList.contains('hidden')) {
            section.classList.remove('hidden');
            chevron.style.transform = 'rotate(0deg)';
        } else {
            section.classList.add('hidden');
            chevron.style.transform = 'rotate(-90deg)';
        }

        lucide.createIcons();
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize schedule editing functionality
        initScheduleEditing();

        // Initialize icons
        lucide.createIcons();
    });

    lucide.createIcons();





  </script>


<script>
  function renderWeekHeader() {
    const today = new Date(); // uses the user's current date automatically

    const dayNames = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];

    // Find Monday of current week
    const monday = new Date(today);
    const diff = monday.getDay() === 0 ? -6 : 1 - monday.getDay();
    monday.setDate(monday.getDate() + diff);

    document.querySelectorAll('#week-header [data-day]').forEach((cell, index) => {
      const date = new Date(monday);
      date.setDate(monday.getDate() + index);

      const isToday = date.toDateString() === today.toDateString();

      // Add blue highlight for today
      cell.className = 'p-4 text-center border-r border-slate-200';
      if (isToday) cell.classList.add('bg-blue-50');

      cell.innerHTML = `
        <p class="text-xs font-semibold ${isToday ? 'text-blue-600' : 'text-slate-500'} uppercase tracking-wide">
          ${isToday ? 'TODAY' : dayNames[date.getDay()].toUpperCase()}
        </p>
        <p class="text-2xl font-bold ${isToday ? 'text-blue-600' : 'text-slate-900'} mt-1">
          ${date.getDate()}
        </p>
      `;
    });
  }

  document.addEventListener('DOMContentLoaded', renderWeekHeader);
</script>



</body>
</html>