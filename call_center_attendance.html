<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Call Center Attendance – September</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 p-6">
  <div class="max-w-7xl mx-auto">
    <h2 class="text-center text-2xl font-bold text-gray-800 mb-6">Call Center Attendance – September</h2>

    <!-- Legend -->
    <div class="flex justify-center gap-6 mb-6 flex-wrap">
      <div class="flex items-center gap-2 text-sm"><span class="w-4 h-4 rounded bg-[#38761D]"></span>Present</div>
      <div class="flex items-center gap-2 text-sm"><span class="w-4 h-4 rounded bg-[#00FF00]"></span>Half Day</div>
      <div class="flex items-center gap-2 text-sm"><span class="w-4 h-4 rounded bg-[#6FA8DC]"></span>Sick Leave</div>
      <div class="flex items-center gap-2 text-sm"><span class="w-4 h-4 rounded bg-[#8E7CC3]"></span>Sick Leave (Alt)</div>
      <div class="flex items-center gap-2 text-sm"><span class="w-4 h-4 rounded bg-[#0000FF]"></span>Vacation Leave</div>
      <div class="flex items-center gap-2 text-sm"><span class="w-4 h-4 rounded bg-[#00FFFF]"></span>Suspended</div>
    </div>

    <!-- Campaign Calendars -->
    <div id="campaign-calendars" class="space-y-12"></div>
  </div>

  <script>
    const statusColors = {
      P:   "bg-[#38761D]",
      HD:  "bg-[#00FF00]",
      SL:  "bg-[#6FA8DC]",
      SL2: "bg-[#8E7CC3]",
      VL:  "bg-[#0000FF]",
      SUS: "bg-[#00FFFF]",
      NA:  "bg-white"
    };

    // Sample Roster with Campaigns
    const roster = [
      { name: "Aileene Eboña", campaign: "Bag Borrow or Steal" },
      { name: "Jummy B. Atole", campaign: "National Site Materials" },
      { name: "Erjohn Reñon", campaign: "National Site Materials" },
      { name: "Abegail Macalla", campaign: "Diamond Assset" },
      { name: "Charles William De Guzman", campaign: "Diamond Assset" },
      { name: "Jemelyn Villablanca", campaign: "Bag Borrow or Steal" },
      { name: "Bernadette Rivera", campaign: "Make A Fort" },
      { name: "Justfer Fernandez", campaign: "Make A Fort" },
      { name: 'Mary Joy "MJ" Florendo', campaign: "American Range Walls" },
      { name: "Ronron Redulla", campaign: "Make A Fort" },
      { name: "Analiza", campaign: "Network Capital" },
      { name: "Marvin", campaign: "Network Capital" },
      { name: "Karla Mae Sta. Rosa", campaign: "Nimble" }
    ];

    // Dummy attendance data generator
    function generateAttendance() {
      return Array.from({ length: 30 }, () => {
        const keys = Object.keys(statusColors);
        return keys[Math.floor(Math.random() * keys.length)];
      });
    }

    // Group by campaign
    const campaigns = {};
    roster.forEach(emp => {
      if (!campaigns[emp.campaign]) campaigns[emp.campaign] = [];
      campaigns[emp.campaign].push({ ...emp, days: generateAttendance() });
    });

    const container = document.getElementById("campaign-calendars");

    Object.entries(campaigns).forEach(([campaign, employees]) => {
      const section = document.createElement("div");

      section.innerHTML = `
        <h3 class="text-xl font-semibold text-gray-700 mb-4">${campaign}</h3>
        <div class="overflow-x-auto border rounded-lg shadow bg-white">
          <table class="table-fixed border-collapse w-full text-xs">
            <thead class="bg-gray-100">
              <tr>
                <th class="border px-2 py-1 text-left w-40">Employee</th>
                ${[...Array(30).keys()].map(d => `<th class='border px-1 py-1 w-6 text-center'>${d+1}</th>`).join('')}
              </tr>
            </thead>
            <tbody>
              ${employees.map(emp => `
                <tr>
                  <td class="border px-2 py-1 font-medium text-gray-700">${emp.name}</td>
                  ${emp.days.map(status => `<td class="border w-6 h-6 ${statusColors[status] || statusColors["NA"]}"></td>`).join('')}
                </tr>
              `).join('')}
            </tbody>
          </table>
        </div>
      `;

      container.appendChild(section);
    });
  </script>
</body>
</html>
