<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diamond Assets | Support Admin Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* =========================================
           DIAMOND ASSETS BRAND CONFIGURATION
           ========================================= */
        :root {
            --brand-primary: #097740;     /* Turf Green */
            --brand-secondary: #a0cd39;   /* Yellow Green */
            --brand-dark: #1e293b;        /* Slate Dark */
            --brand-surface: #f8fafc;     /* Soft Background */
            --brand-accent: #3b82f6;      /* Blue Highlight */
            
            --bg-main: #ffffff;
            --bg-sidebar: #ffffff;
            --border-color: #e2e8f0;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --muted: #94a3b8;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { 
            font-family: 'Inter', sans-serif; 
            background: var(--bg-main); 
            color: var(--text-primary);
            font-size: 13px; 
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        .wrapper { display: flex; min-height: 100vh; }

        /* Sidebar Styling */
        .sidebar {
            width: 280px;
            background: var(--bg-sidebar);
            border-right: 1px solid var(--border-color);
            padding: 32px 24px;
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100vh;
            z-index: 100;
        }

        .brand-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 40px;
        }

        .logo-dm { height: 32px; width: auto; }
        .logo-divider { width: 1px; height: 24px; background: var(--border-color); }
        .logo-da { height: 28px; width: auto; background: #0b1220; padding: 4px 6px; border-radius: 4px; }

        .sidebar nav h2 {
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--muted);
            margin: 20px 0 10px 10px;
        }

        .sidebar nav a {
            display: block;
            color: var(--text-secondary);
            text-decoration: none;
            padding: 10px 14px;
            border-radius: 8px;
            margin-bottom: 4px;
            transition: 0.2s;
            font-weight: 500;
            cursor: pointer;
        }

        .sidebar nav a:hover { background: var(--brand-surface); color: var(--brand-primary); }
        .sidebar nav a.active { background: #ecfdf5; color: var(--brand-primary); font-weight: 600; }

        .sidebar-footer {
            margin-top: auto;
            font-size: 10px;
            color: var(--text-secondary);
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }

        /* Layout & Typography */
        .main { flex: 1; margin-left: 280px; padding: 50px; max-width: 1400px; }
        .view-section { display: none; }
        .view-section.active { display: block; }

        .clean-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--brand-dark);
        }
        .clean-subtitle {
            color: var(--brand-primary);
            font-size: 0.95rem;
            font-weight: 700;
            margin-bottom: 32px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Generic Card System */
        .grid-layout { display: grid; grid-template-columns: repeat(2, 1fr); gap: 24px; }
        .chart-card {
            background: #fff;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.03);
            margin-bottom: 24px;
        }
        .chart-card h3 {
            font-size: 12px;
            text-transform: uppercase;
            color: var(--text-secondary);
            margin-bottom: 18px;
            letter-spacing: 1px;
            border-bottom: 1px solid var(--brand-surface);
            padding-bottom: 8px;
        }

        /* Universal Table Styles with Full Borders */
        .table-wrapper { border-radius: 8px; overflow: hidden; border: 1px solid var(--border-color); }
        .brand-table { width: 100%; border-collapse: collapse; }
        .brand-table th { 
            background: var(--brand-surface); 
            padding: 14px 18px; 
            text-align: left; 
            font-size: 10px; 
            color: var(--text-secondary); 
            text-transform: uppercase;
            border: 1px solid var(--border-color);
        }
        .brand-table td { 
            padding: 16px 18px; 
            border: 1px solid var(--border-color); 
            vertical-align: top;
            font-size: 13px;
        }

        /* Status Pills */
        .status-pill { padding: 4px 10px; border-radius: 20px; font-size: 11px; font-weight: 700; }
        .pill-high { background: #fee2e2; color: #b91c1c; }
        .pill-ok { background: #ecfdf5; color: #065f46; }

        /* Knowledge Base Layout */
        .kb-layout { display: grid; grid-template-columns: 240px 1fr; gap: 30px; }
        .kb-nav .cat-title { font-size: 11px; font-weight: 700; text-transform: uppercase; color: var(--muted); margin: 15px 0 8px; }
        .kb-nav ul { list-style: none; }
        .kb-nav a { display: block; padding: 8px 12px; text-decoration: none; color: var(--text-primary); font-size: 13px; border-radius: 6px; margin-bottom: 2px; }
        .kb-nav a:hover { background: var(--brand-surface); }
        .kb-nav a.active { color: var(--brand-primary); font-weight: 700; background: #ecfdf5; }
        
        .kb-article { display: none; }
        .kb-article.active { display: block; }
        .kb-article h3 { font-family: 'Playfair Display'; font-size: 1.5rem; margin-bottom: 15px; color: var(--brand-dark); }
        .kb-article p { margin-bottom: 12px; color: var(--text-secondary); }
        .kb-article ul, .kb-article ol { padding-left: 20px; margin-bottom: 15px; color: var(--text-secondary); }

        .formula-box { font-size: 11px; font-style: italic; color: var(--muted); margin-top: 8px; padding: 8px; background: var(--brand-surface); border-radius: 4px; }
    </style>
</head>

<body>
    <div class="wrapper">
        <aside class="sidebar">
            <div class="brand-header">
                <img src="https://digitalmindsbpo.com/storage/2018/11/cropped-dm-favicon.png" class="logo-dm" alt="Digital Minds">
                <div class="logo-divider"></div>
                <img src="https://diamondassets.com/wp-content/uploads/2022/01/DA-logo-color-white.png.webp" class="logo-da" alt="Diamond Assets">
            </div>

            <nav id="sidebar-nav">
                <h2>Operations</h2>
                <a onclick="switchView('dashboard')" id="link-dashboard">Daily Tracker</a>
                <a onclick="switchView('agents')" class="active" id="link-agents">Agent Scoring</a>
                <a onclick="switchView('quality')" id="link-quality">Quality Metrics</a>
                
                <h2>Resources</h2>
                <a onclick="switchView('knowledge')" id="link-knowledge">Knowledge Base</a>
                <a onclick="switchView('settings')" id="link-settings">Settings</a>
            </nav>

            <div class="sidebar-footer">
                Diamond Assets Operational Dashboard<br>&copy; 2025 Internal Use
            </div>
        </aside>

        <main class="main">
            <div id="view-agents" class="view-section active">
                <h1 class="clean-title">Agent Performance Criteria</h1>
                <p class="clean-subtitle">Standard Metrics & Scoring Guidance</p>

                <div class="chart-card">
                    <div class="table-wrapper">
                        <table class="brand-table">
                            <thead>
                                <tr>
                                    <th colspan="2">Criteria & Description</th>
                                    <th>Guidelines</th>
                                    <th>Score Value</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><b>Average Wait Time</b></td>
                                    <td>The average time it takes for an agent to accept or respond to an incoming calls.</td>
                                    <td><ul><li>30s and below</li><li>45 seconds</li><li>60 seconds</li><li>120s and above</li></ul></td>
                                    <td><ul><li>10 - Excellent</li><li>8 - Good</li><li>6 - Satisfactory</li><li>2 - Poor</li></ul></td>
                                </tr>
                                <tr>
                                    <td><b>Missed Call (%)</b></td>
                                    <td>The percentage of incoming calls that were not answered by any agent.
                                        <div class="formula-box">Missed Call (%) = (Missed Calls ÷ Total Incoming) × 100</div>
                                    </td>
                                    <td><ul><li>5% and below</li><li>10%</li><li>15%</li><li>25% and above</li></ul></td>
                                    <td><ul><li>10 - Excellent</li><li>8 - Good</li><li>6 - Satisfactory</li><li>2 - Poor</li></ul></td>
                                </tr>
                                <tr>
                                    <td><b>Recovery Rate (%)</b></td>
                                    <td>Number of abandoned carts that were converted into orders after the call.
                                        <div class="formula-box">Recovery Rate (%) = (Carts Called ÷ Recovered Orders) × 100</div>
                                    </td>
                                    <td><ul><li>20% and above</li><li>15%</li><li>10%</li><li>0%</li></ul></td>
                                    <td><ul><li>10 - Excellent</li><li>8 - Good</li><li>6 - Satisfactory</li><li>2 - Poor</li></ul></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div id="view-dashboard" class="view-section">
                <h1 class="clean-title">Daily Operations Tracker</h1>
                <p class="clean-subtitle">Order Resolution Status</p>
                <div class="chart-card">
                    <div class="table-wrapper">
                        <table class="brand-table">
                            <thead>
                                <tr><th>Date</th><th>Resolved Orders</th><th>Pending Tickets</th><th>Performance Status</th></tr>
                            </thead>
                            <tbody>
                                <tr><td>Oct 26, 2025</td><td>12</td><td>2</td><td><span class="status-pill pill-ok">↑ 15% Improvement</span></td></tr>
                                <tr><td>Oct 25, 2025</td><td>8</td><td>5</td><td><span class="status-pill">Stable</span></td></tr>
                                <tr><td>Oct 24, 2025</td><td>15</td><td>0</td><td><span class="status-pill pill-ok">Perfect Completion</span></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div id="view-quality" class="view-section">
                <h1 class="clean-title">Quality & Compliance</h1>
                <p class="clean-subtitle">Defect Analysis & Logistics Trends</p>
                <div class="grid-layout">
                    <div class="chart-card"><h3>Defect Pareto Analysis</h3><div id="pareto_chart" style="height: 300px;"></div></div>
                    <div class="chart-card"><h3>Return Rate Trend</h3><div id="trend_chart" style="height: 300px;"></div></div>
                    <div class="chart-card"><h3>Fulfillment Integrity</h3><div id="pie_chart" style="height: 300px;"></div></div>
                    <div class="chart-card"><h3>Defects by Product Category</h3><div id="bar_chart" style="height: 300px;"></div></div>
                    
                    <div class="chart-card" style="grid-column: span 2;">
                        <h3>Detailed Operational Log</h3>
                        <div class="table-wrapper">
                            <table class="brand-table">
                                <thead><tr><th>Issue Category</th><th>Volume</th><th>Impact Cost</th><th>Escalation Level</th></tr></thead>
                                <tbody>
                                    <tr><td><b>Package Damage</b></td><td>342</td><td>$12,450</td><td><span class="status-pill pill-high">CRITICAL</span></td></tr>
                                    <tr><td><b>Incorrect SKU</b></td><td>124</td><td>$6,820</td><td><span class="status-pill pill-high">HIGH</span></td></tr>
                                    <tr><td><b>Lost in Transit</b></td><td>12</td><td>$4,100</td><td><span class="status-pill">MEDIUM</span></td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div id="view-knowledge" class="view-section">
                <h1 class="clean-title">Operations Knowledge Base</h1>
                <p class="clean-subtitle">Internal SOPs & Support Scripts</p>
                <div class="kb-layout">
                    <aside class="kb-nav">
                        <div class="cat-title">Order Processing</div>
                        <ul>
                            <li><a href="#" class="kb-link active" onclick="showArticle('kb-returns', this)">Refunds & Returns</a></li>
                            <li><a href="#" class="kb-link" onclick="showArticle('kb-handbook', this)">Operations Handbook</a></li>
                        </ul>
                        <div class="cat-title">Support Scripts</div>
                        <ul>
                            <li><a href="#" class="kb-link" onclick="showArticle('kb-scripts', this)">Customer Service Scripts</a></li>
                        </ul>
                        <div class="cat-title">Security</div>
                        <ul>
                            <li><a href="#" class="kb-link" onclick="showArticle('kb-fraud', this)">Fraud Prevention</a></li>
                        </ul>
                    </aside>
                    <section class="kb-content">
                        <div id="kb-returns" class="kb-article chart-card active">
                            <h3>Refunds on Returns Policy</h3>
                            <p><b>Amazon Orders:</b> Refunds are typically processed within 3-5 business days after the warehouse confirms the return.</p>
                            <p><b>eBay/Direct:</b> Depends on specific seller policies. Always verify the "Item Received" status in Sellercloud before initiating.</p>
                            <ul>
                                <li>Verify tracking shows "Delivered" to warehouse.</li>
                                <li>Check for "Restocking Fee" eligibility on high-value items.</li>
                            </ul>
                        </div>

                        <div id="kb-handbook" class="kb-article chart-card">
                            <h3>Operations & Fulfillment Handbook</h3>
                            <p><b>Cancellations:</b> Search the order in Sellercloud. If the status is "EXPORTED", the order is likely packed. Approval from Operations Lead (Rachel) is required for cancellation.</p>
                            <p><b>High Value Orders:</b> Any eBay order exceeding $750 requires a signature upon delivery. Ensure the correct shipping label service is selected.</p>
                        </div>

                        <div id="kb-scripts" class="kb-article chart-card">
                            <h3>Customer Support Scripts</h3>
                            <p><b>DNR (Did Not Receive):</b> "I'm sorry to hear you haven't received your package. Please check around porches and with neighbors first. If it's still missing, let us know so we can initiate a carrier claim."</p>
                            <p><b>Warranty:</b> "All items come with our standard 30-Day Money Back Guarantee and a 90-Day Replacement Warranty for hardware defects."</p>
                        </div>

                        <div id="kb-fraud" class="kb-article chart-card">
                            <h3>Fraud Prevention & Risk</h3>
                            <p><b>Red Flags:</b> Multiple orders to the same address with different names, or expedited shipping requested for high-value items to a freight forwarding address.</p>
                            <p><b>Action:</b> Flag as "Under Review" in Sellercloud and notify the Finance team immediately.</p>
                        </div>
                    </section>
                </div>
            </div>

            <div id="view-settings" class="view-section">
                <h1 class="clean-title">System Settings</h1>
                <p class="clean-subtitle">Portal Configuration</p>
                <div class="chart-card">
                    <p><b>Environment:</b> Production</p>
                    <p><b>Last Sync:</b> Real-time via Sellercloud API</p>
                </div>
            </div>
        </main>
    </div>

    <script src="https://www.gstatic.com/charts/loader.js"></script>
    <script>
        // NAVIGATION LOGIC
        function switchView(name) {
            document.querySelectorAll('.view-section').forEach(v => v.classList.remove('active'));
            document.getElementById('view-' + name).classList.add('active');
            document.querySelectorAll('#sidebar-nav a').forEach(a => a.classList.remove('active'));
            document.getElementById('link-' + name).classList.add('active');
            if (name === 'quality') setTimeout(drawCharts, 100);
        }

        function showArticle(id, link) {
            document.querySelectorAll('.kb-article').forEach(a => a.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.querySelectorAll('.kb-link').forEach(l => l.classList.remove('active'));
            link.classList.add('active');
        }

        // GOOGLE CHARTS LOGIC (DIAMOND ASSETS DATA)
        google.charts.load('current', { packages: ['corechart'] });
        google.charts.setOnLoadCallback(drawCharts);

        function drawCharts() {
            const colors = ['#097740', '#a0cd39', '#1e293b', '#577253'];
            
            // Pareto
            var d1 = google.visualization.arrayToDataTable([['Issue', 'Vol', 'Cum'], ['Late Dispatch', 890, 55], ['Damage', 342, 76], ['SKU Error', 124, 100]]);
            new google.visualization.ComboChart(document.getElementById('pareto_chart')).draw(d1, {
                series: {0: {type: 'bars', color: colors[0]}, 1: {type: 'line', color: colors[1], targetAxisIndex: 1}},
                legend: 'none', chartArea: {width: '80%', height: '70%'}, backgroundColor: 'transparent'
            });

            // Trend
            var d2 = google.visualization.arrayToDataTable([['Month', 'Rate'], ['Oct', 3.9], ['Nov', 3.2], ['Dec', 2.8]]);
            new google.visualization.LineChart(document.getElementById('trend_chart')).draw(d2, {
                colors: [colors[1]], curveType: 'function', legend: 'none', chartArea: {width: '85%'}
            });

            // Pie
            var d3 = google.visualization.arrayToDataTable([['Status', 'Count'], ['Delivered Perfect', 14500], ['Minor Issue', 1200], ['Major Defect', 300]]);
            new google.visualization.PieChart(document.getElementById('pie_chart')).draw(d3, {
                pieHole: 0.5, colors: [colors[0], colors[1], colors[2]], legend: {position: 'bottom'}
            });

            // Bar
            var d4 = google.visualization.arrayToDataTable([['Category', 'Defects'], ['Electronics', 450], ['Fashion', 820], ['Home', 310]]);
            new google.visualization.BarChart(document.getElementById('bar_chart')).draw(d4, {
                colors: [colors[0]], legend: 'none', chartArea: {width: '70%'}
            });
        }
        window.addEventListener('resize', drawCharts);
    </script>
</body>
</html>